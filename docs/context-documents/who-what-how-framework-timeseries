# Time Series Visualizations: WHO–WHAT–HOW Framework

This framework explains the purpose, audience, and evidence behind the **Time Series tab** of the cryptocurrency dashboard, which includes:
- Price and log-returns chart
- ACF plot for prices
- ACF plot for returns
- ACF plot for squared returns (volatility clustering)

---

### **WHO (Audience)**

A **retail investor** (25–45 years old) who is:
- Considering allocating a small portion of their portfolio to crypto
- Familiar with basic financial concepts (volatility, returns) but not time series statistics
- Skeptical of “chart patterns” and seeking data-driven clarity on whether crypto prices are predictable

They ask:  
> *“Can I trust technical analysis? Or is crypto just random noise?”*

---

### **WHAT (Desired Action)**

The investor should:
1. **Reject the idea that past prices predict future prices** → Avoid overreliance on technical indicators.
2. **Recognize that volatility is patterned** → Use calm periods to enter, reduce exposure during volatility spikes.
3. **Accept uncertainty as structural** → Invest only what they can afford to lose, with a long-term horizon.

---

### **HOW (Data as Evidence)**

#### 1. **Price & Returns Chart**  
- **What it shows**: Raw price trajectory and daily log-returns over time.  
- **Why it matters**: Reveals apparent randomness in returns and absence of trends—setting the stage for statistical testing.

#### 2. **ACF of Prices**  
- **What it shows**: High, slow-decaying autocorrelation at all lags.  
- **Why it matters**: Signature of a **random walk**—prices are non-stationary and unpredictable.

#### 3. **ACF of Returns**  
- **What it shows**: Autocorrelations near zero for all lags (within confidence bands).  
- **Why it matters**: Confirms **returns are independent**—no momentum or mean-reversion signals.

#### 4. **ACF of Squared Returns**  
- **What it shows**: Significant autocorrelation persisting for many lags.  
- **Why it matters**: Evidence of **volatility clustering**—risk is predictable even if price isn’t.

> 💡 **Key Insight**: *You cannot forecast direction, but you can forecast danger.*

---

### **AI Assistance Disclosure (Time Series Visualizations Only)**

The time series visualizations—including the price/returns chart and the three ACF plots (prices, returns, squared returns)—were developed with **moderate AI assistance (38%)**, estimated using the Universidad Politécnica de Yucatán multi-method framework. Below is a detailed breakdown.

#### **Estimation Summary**
- **Time-Based**: ~2.5 hours with AI / 7 total hours → **36%**  
- **Code Lines**: 180 AI-influenced lines / 420 total lines → **43%**  
- **Component Weighting**:  
  - Plot layout & styling: 60% AI  
  - ACF confidence interval logic: 30% AI  
  - Data preprocessing for returns: 10% AI  
  → Weighted average: **39%**  
- **Self-Assessment Score**: 3.6/5 → **36%**  
- **Final AI Assistance**: (0.25×36) + (0.35×43) + (0.25×39) + (0.15×36) = **38%**

#### **AI Usage Log (Time Series Module)**

| Date       | Duration | Objective                                      | AI Tool   | Prompt Summary                                                                 | Output Used                                                                 |
|------------|----------|-----------------------------------------------|-----------|--------------------------------------------------------------------------------|-----------------------------------------------------------------------------|
| 2025-04-10 | 45 min   | Create dual-panel price/returns chart         | Claude 3.5| "Make a Plotly subplot with price on top, log returns below, shared x-axis"    | Base figure structure, trace definitions, layout settings                   |
| 2025-04-10 | 60 min   | Implement ACF plot with vertical lines        | Claude 3.5| "Plot ACF like statsmodels using Plotly: vertical lines from 0 to acf value"   | Loop logic for vertical segments, hover templates, confidence band styling   |
| 2025-04-11 | 30 min   | Add confidence intervals and shading          | Claude 3.5| "Add 95% confidence bands (±1.96/√n) as dashed lines and shaded rectangle"     | `add_hline()` and `add_hrect()` calls with correct formula                  |
| 2025-04-12 | 15 min   | Debug PACF fallback and NaN handling          | Claude 3.5| "Handle statsmodels pacf error by returning zeros; drop NaNs before acf()"     | Try/except block and `.dropna()` placement                                  |

#### **Human Oversight & Corrections**
- **Statistical Accuracy**: AI initially suggested using simple returns for ACF analysis; the author corrected this to **log-returns**, which are standard for stationarity and autocorrelation testing in financial time series.
- **Confidence Interval Formula**: AI provided the correct `1.96 / sqrt(n)` formula, but the author verified it against *Time Series Analysis* (Hamilton, 1994) and *statsmodels* source code.
- **Interpretation Logic**: All narrative conclusions (e.g., “volatility clustering implies risk is predictable”) were formulated by the author. AI was never prompted to interpret results—only to implement visualizations.
- **Code Review**: Every AI-generated code block was manually reviewed, refactored for efficiency, and integrated into the broader Streamlit architecture by the author.

> **Conclusion**: AI acted as a **coding assistant and visual designer**, not an analytical partner. The statistical design, financial interpretation, and investment implications are 100% human-defined and validated.